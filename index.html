<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>Ahmed Wesam - CRM & Automation Specialist</title>
    <meta name="description" content="CRM & Recruitment specialist blending data-driven outreach with digital innovation. Founder of Move Sports Club, Rotaract VP, and automation enthusiast." />
    <meta name="author" content="Ahmed Wesam" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ahmedwesam.com/" />
    <meta property="og:title" content="Ahmed Wesam - CRM & Automation Specialist" />
    <meta property="og:description" content="Building smarter connections through CRM, automation, and community projects." />
    <meta property="og:image" content="https://ahmedwesam.com/og-image.jpg" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://ahmedwesam.com/" />
    <meta property="twitter:title" content="Ahmed Wesam - CRM & Automation Specialist" />
    <meta property="twitter:description" content="Building smarter connections through CRM, automation, and community projects." />
    <meta property="twitter:image" content="https://ahmedwesam.com/og-image.jpg" />

    <!-- Favicon -->
    <link rel="icon" href="/lovable-uploads/a78f79f3-edc1-4836-9207-2cb792ed0d49.png" type="image/png" />
  </head>

  <body>
    <div id="root"></div>
    <!-- n8n Demo Web Component -->
    <script>
      // Load n8n demo component with multiple fallback approaches
      window.n8nComponentLoading = true;
      window.n8nComponentReady = false;
      
      const loadComponent = async () => {
        try {
          // Try multiple CDN sources
          const sources = [
            'https://unpkg.com/@n8n/demo-webcomponent@latest/dist/n8n-demo.js',
            'https://cdn.jsdelivr.net/npm/@n8n/demo-webcomponent@latest/dist/n8n-demo.js',
            'https://unpkg.com/@n8n/demo-webcomponent@1.0.0/dist/n8n-demo.js'
          ];
          
          for (const src of sources) {
            try {
              console.log('Trying to load n8n component from:', src);
              await new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.type = 'module';
                script.src = src;
                
                script.onload = () => {
                  console.log('n8n demo script loaded from:', src);
                  // Wait for custom element to be defined
                  let attempts = 0;
                  const maxAttempts = 50;
                  
                  const checkElement = () => {
                    attempts++;
                    if (customElements.get('n8n-demo')) {
                      console.log('n8n-demo component registered successfully');
                      window.n8nComponentReady = true;
                      window.n8nComponentLoading = false;
                      window.dispatchEvent(new CustomEvent('n8n-component-ready'));
                      resolve();
                    } else if (attempts < maxAttempts) {
                      setTimeout(checkElement, 100);
                    } else {
                      reject(new Error('Component registration timeout'));
                    }
                  };
                  checkElement();
                };
                
                script.onerror = () => {
                  reject(new Error(`Failed to load from ${src}`));
                };
                
                document.head.appendChild(script);
              });
              break; // If successful, break out of the loop
            } catch (error) {
              console.warn(`Failed to load n8n component from ${src}:`, error);
              if (src === sources[sources.length - 1]) {
                throw error; // If this was the last source, throw the error
              }
            }
          }
        } catch (error) {
          console.error('All n8n component loading attempts failed:', error);
          window.n8nComponentReady = false;
          window.n8nComponentLoading = false;
          window.dispatchEvent(new CustomEvent('n8n-component-error', { detail: error }));
        }
      };
      
      loadComponent();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
